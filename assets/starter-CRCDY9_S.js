import{W as m,a as i}from"./WavDecoder-DNF98GrN.js";const e={drop:document.getElementById("uploadZone"),input:document.getElementById("fileInput"),results:document.getElementById("results"),status:document.getElementById("status"),format:document.getElementById("format"),channels:document.getElementById("channels"),sampleRate:document.getElementById("sampleRate"),samples:document.getElementById("samples"),reset:document.getElementById("resetBtn")};async function o(t){l(),e.drop.setAttribute("aria-disabled","true"),e.results.classList.remove("hidden"),e.status.textContent=`Decoding "${t.name}"`;const a=new m;let n=0;try{for await(const c of t.stream()){const r=a.decode(c);r.samplesDecoded>0&&(n+=r.samplesDecoded),d(a.info,n),await new Promise(requestAnimationFrame)}const s=a.flush();n+=s.samplesDecoded,e.status.textContent="Done",d(a.info,n)}catch(s){e.status.textContent=`Error: ${s.message}`,console.error(s)}finally{e.reset.hidden=!1}}function d(t,a){t.format.formatTag&&(e.format.textContent=i[t.format.formatTag]||`Unknown (${t.format.formatTag})`,e.channels.textContent=t.format.channels,e.sampleRate.textContent=`${t.format.sampleRate.toLocaleString()} Hz`),e.samples.textContent=a.toLocaleString()}function l(){e.results.classList.add("hidden"),e.drop.removeAttribute("aria-disabled"),e.reset.hidden=!0,["status","format","channels","sampleRate","samples"].forEach(t=>e[t].textContent="-"),e.drop.textContent=`Drop a .wav file here
or click to select`}function u(){e.drop.addEventListener("click",()=>e.input.click()),e.input.addEventListener("change",t=>t.target.files?.[0]&&o(t.target.files[0])),e.reset.addEventListener("click",l),["dragenter","dragover","dragleave","drop"].forEach(t=>{e.drop.addEventListener(t,a=>{if(a.preventDefault(),a.stopPropagation(),t==="dragenter"||t==="dragover")e.drop.classList.add("dragover");else if(t==="drop"){const n=Array.from(a.dataTransfer.files).find(s=>s.name.endsWith(".wav"));n&&o(n),e.drop.classList.remove("dragover")}else e.drop.classList.remove("dragover")})})}u();
